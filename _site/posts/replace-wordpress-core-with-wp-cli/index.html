<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="UTF-8"/>
        <meta http-equiv="X-UA-Compatible" content="ie=edge"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <title>
            Replace WordPress core with WP CLI - Sharif Mohammad Eunus
        </title>
        <link rel="stylesheet" href="/main.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
    </head>
    <body data-theme="dark" class="notransition">
        <script>
            const body = document.body;
            const data = body.getAttribute("data-theme");
            const initTheme = (state) => {
                if (state === "dark") {
                    body.setAttribute("data-theme", "dark");
                } else if (state === "light") {
                    body.removeAttribute("data-theme");
                } else {
                    localStorage.setItem("theme", data);
                }
            };
            initTheme(localStorage.getItem("theme"));
            setTimeout(() => body.classList.remove("notransition"), 75);
        </script>
        <div class="navbar" role="navigation">
            <nav class="menu">
                <input type="checkbox" id="menu-trigger" class="menu-trigger"/>
                <label for="menu-trigger">
                    <span class="menu-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 512 512">
                            <path d="M64,384H448V341.33H64Zm0-106.67H448V234.67H64ZM64,128v42.67H448V128Z"/>
                        </svg>
                    </span>
                </label>
                <a id="mode">
                    <svg class="mode-sunny" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 512 512">
                        <title>LIGHT</title>
                        <line x1="256" y1="48" x2="256" y2="96" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"/>
                        <line x1="256" y1="416" x2="256" y2="464" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"/>
                        <line
                            x1="403.08"
                            y1="108.92"
                            x2="369.14"
                            y2="142.86"
                            style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"/>
                        <line
                            x1="142.86"
                            y1="369.14"
                            x2="108.92"
                            y2="403.08"
                            style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"/>
                        <line x1="464" y1="256" x2="416" y2="256" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"/>
                        <line x1="96" y1="256" x2="48" y2="256" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"/>
                        <line
                            x1="403.08"
                            y1="403.08"
                            x2="369.14"
                            y2="369.14"
                            style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"/>
                        <line
                            x1="142.86"
                            y1="142.86"
                            x2="108.92"
                            y2="108.92"
                            style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"/>
                        <circle cx="256" cy="256" r="80" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"/>
                    </svg>
                    <svg class="mode-moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 512 512">
                        <title>DARK</title>
                        <line x1="256" y1="48" x2="256" y2="96" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"/>
                        <line x1="256" y1="416" x2="256" y2="464" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"/>
                        <line
                            x1="403.08"
                            y1="108.92"
                            x2="369.14"
                            y2="142.86"
                            style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"/>
                        <line
                            x1="142.86"
                            y1="369.14"
                            x2="108.92"
                            y2="403.08"
                            style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"/>
                        <line x1="464" y1="256" x2="416" y2="256" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"/>
                        <line x1="96" y1="256" x2="48" y2="256" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"/>
                        <line
                            x1="403.08"
                            y1="403.08"
                            x2="369.14"
                            y2="369.14"
                            style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"/>
                        <line
                            x1="142.86"
                            y1="142.86"
                            x2="108.92"
                            y2="108.92"
                            style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"/>
                        <circle cx="256" cy="256" r="80" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"/>
                    </svg>
                </a>
                <div class="trigger">
                    <div class="trigger-container">
                        <a class="menu-link" href="/">home</a>
                        <a class="menu-link" href="/about/">about</a>
                        <a class="menu-link" href="https://github.com/shariffff" target="_blank" rel="noopener">github</a>
                    </div>
                </div>
            </nav>
        </div>
    </body>
</html>
<div class="wrapper post">
    <main class="page-content" aria-label="Content">
        <article itemscope itemtype="https://schema.org/BlogPosting">
            <header class="header">
                <div
                    class="tags"><!-- <span itemprop="keywords"> <a class="tag" href="/tags/#cli">CLI</a> </span> -->
                </div>
                <h1 class="header-title" itemprop="headline">Replace WordPress core with WP CLI</h1>
                <div class="post-meta">
                    <time datetime="2022-03-09" itemprop="datePublished">
                        09 Mar 2022
                    </time>
                    <span itemprop="author" itemscope itemtype="https://schema.org/Person">
                        <span itemprop="name">Sharif Mohammad Eunus</span>
                    </span>
                    <time hidden datetime="2022-03-09" itemprop="dateModified">
                        09 Mar 2022
                    </time>
                    <span hidden itemprop="publisher" itemtype="Person">Sharif Mohammad Eunus</span>
                </div>
            </header>
            <div class="page-content" itemprop="articleBody">
                <p>One of the main reasons we often have to replace the WordPress core files is if the site becomes compromised and the malware modifies the core files, causing the dashboard to become inaccessible. In these cases, replacing the core can restore access and help secure the site.</p>
<blockquote>
<p>Make sure to take a backup before the cleanup.</p>
</blockquote>
<h3>Re-install</h3>
<p>The first step will be to check if the core files are intact.</p>
<pre class="language-bash"><code class="language-bash">wp core verify-checksums</code></pre>
<p>If core files are intact, the command will return a response <code>Success: WordPress installation verifies against checksums.</code></p>
<p>Otherwise, we should re-install the core files.</p>
<pre class="language-bash"><code class="language-bash">wp core download <span class="token parameter variable">--force</span> --skip-content</code></pre>
<p>If the installed WordPress version is 6.0 but the latest version is 6.1, the above command will replace the core files with the latest WordPress version. Also, the <code>--skip-content</code> is used to avoid downloading default WP themes and plugins.</p>
<p>Though it’s recommended to use the latest WordPress version, sometimes you may not want to update the WordPress version to the latest for X reason. That’s when we need to specify the <code>--version</code> flag.</p>
<pre class="language-bash"><code class="language-bash"><span class="token comment"># get the currently installed version of WordPress</span>
wp core version
<span class="token comment"># the output will be a number e.g. 6.0</span>
<span class="token comment"># to re-install the same version</span>
wp core download <span class="token parameter variable">--force</span> --skip-content <span class="token parameter variable">--version</span><span class="token operator">=</span><span class="token number">6.0</span></code></pre>
<p><em>to do it in one line</em></p>
<pre class="language-bash"><code class="language-bash">wp core download <span class="token parameter variable">--force</span> --skip-content <span class="token parameter variable">--version</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span>wp core version<span class="token variable">)</span></span></code></pre>
<blockquote>
<p>WP CLI can’t always clean up the leftover files. In such cases, check the core version first, delete the <code>wp-admin</code> and <code>wp-includes</code> folders and reinstall the core.</p>
</blockquote>

            </div>
        </article>
    </main>
    <!-- <nav class="post-nav"> <a class="post-nav-item post-nav-prev" href="/">
            <div class="nav-arrow">Previous</div> <span class="post-title"></span>
        </a> </nav> -->
    <footer
    class="footer">
    
    <span class="footer_item">&copy; 2024</span>
</footer>
<script>
    (() => { // Theme switch
        const body = document.body;
        const lamp = document.getElementById("mode");
        const toggleTheme = (state) => {
            if (state === "dark") {
                localStorage.setItem("theme", "light");
                body.removeAttribute("data-theme");
            } else if (state === "light") {
                localStorage.setItem("theme", "dark");
                body.setAttribute("data-theme", "dark");
            } else {
                initTheme(state);
            }
        };
        lamp.addEventListener("click", () => toggleTheme(localStorage.getItem("theme")));
        // Blur the content when the menu is open
        const cbox = document.getElementById("menu-trigger");
        cbox.addEventListener("change", function () {
            const area = document.querySelector(".wrapper");
            this.checked
                ? area.classList.add("blurry")
                : area.classList.remove("blurry");
        });
    })();
</script></body></html>