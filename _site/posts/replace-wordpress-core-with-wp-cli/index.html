<!DOCTYPE html>
<html lang="en-US">

<head prefix="og: http://ogp.me/ns#">
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="application-name" content="Sharif Mohammad Eunus" />
    <meta name="apple-mobile-web-app-status-bar-style" content="#fff" />
    <meta name="apple-mobile-web-app-title" content="Sharif Mohammad Eunus" />
    <title> Replace WordPress core with WP CLI - Sharif Mohammad Eunus </title>
    <link rel="alternate" href="/posts/replace-wordpress-core-with-wp-cli/" hreflang="en-US" />
    <link rel="canonical" href="/posts/replace-wordpress-core-with-wp-cli/" />
    <meta name="description"
        content="WP CLI enables the management of WordPress admin actions through the command line. This tool is particularly useful for performing actions that are typically done from the admin area, especially th..." />
    <meta name="referrer" content="no-referrer-when-downgrade" />
    <meta property="fb:app_id" content="" />
    <meta property="og:site_name" content="Managing WordPress with WP CLI | Sharif Mohammad Eunus" />
    <meta property="og:title" content="Managing WordPress with WP CLI | Sharif Mohammad Eunus" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="/posts/replace-wordpress-core-with-wp-cli/" />
    <meta property="og:description"
        content="WP CLI enables the management of WordPress admin actions through the command line. This tool is particularly useful for performing actions that are typically done from the admin area, especially th..." />
    <meta property="og:image" content="/posts/replace-wordpress-core-with-wp-cli/shell_evolution.png" />
    <meta property="og:image:width" content="640" />
    <meta property="og:image:height" content="640" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Managing WordPress with WP CLI | twitter_username" />
    <meta name="twitter:url" content="/posts/replace-wordpress-core-with-wp-cli/" />
    <meta name="twitter:site" content="@twitter_username" />
    <meta name="twitter:creator" content="@twitter_username" />
    <meta name="twitter:description"
        content="WP CLI enables the management of WordPress admin actions through the command line. This tool is particularly useful for performing actions that are typically done from the admin area, especially th..." />
    <meta name="twitter:image" content="/posts/replace-wordpress-core-with-wp-cli/shell_evolution.png" />
    <link type="application/atom+xml" rel="alternate" href="/feed.xml" title="Sharif Mohammad Eunus" />
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicons/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png" />
    <link rel="manifest" href="/assets/favicons/site.webmanifest" />
    <link rel="mask-icon" href="/assets/favicons/safari-pinned-tab.svg" color="#5bbad5" />
    <meta name="apple-mobile-web-app-title" content="Jekyll Klise" />
    <meta name="application-name" content="Jekyll Klise" />
    <meta name="msapplication-TileColor" content="#da532c" />
    <meta name="theme-color" content="#2c2c2c" />
    <link rel="stylesheet" href="/main.css">
</head>

<body data-theme="dark" class="notransition">
    <script> const body = document.body; const data = body.getAttribute("data-theme"); const initTheme = (state) => { if (state === "dark") { body.setAttribute("data-theme", "dark"); } else if (state === "light") { body.removeAttribute("data-theme"); } else { localStorage.setItem("theme", data); } }; initTheme(localStorage.getItem("theme")); setTimeout(() => body.classList.remove("notransition"), 75); </script>
    <div class="navbar" role="navigation">
        <nav class="menu"> <input type="checkbox" id="menu-trigger" class="menu-trigger" /> <label for="menu-trigger">
                <span class="menu-icon"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                        viewBox="0 0 512 512">
                        <path d="M64,384H448V341.33H64Zm0-106.67H448V234.67H64ZM64,128v42.67H448V128Z" />
                    </svg> </span> </label> <a id="mode"> <svg class="mode-sunny" xmlns="http://www.w3.org/2000/svg"
                    width="24" height="24" viewBox="0 0 512 512">
                    <title>LIGHT</title>
                    <line x1="256" y1="48" x2="256" y2="96"
                        style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" />
                    <line x1="256" y1="416" x2="256" y2="464"
                        style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" />
                    <line x1="403.08" y1="108.92" x2="369.14" y2="142.86"
                        style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" />
                    <line x1="142.86" y1="369.14" x2="108.92" y2="403.08"
                        style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" />
                    <line x1="464" y1="256" x2="416" y2="256"
                        style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" />
                    <line x1="96" y1="256" x2="48" y2="256"
                        style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" />
                    <line x1="403.08" y1="403.08" x2="369.14" y2="369.14"
                        style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" />
                    <line x1="142.86" y1="142.86" x2="108.92" y2="108.92"
                        style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" />
                    <circle cx="256" cy="256" r="80"
                        style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" />
                </svg> <svg class="mode-moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                    viewBox="0 0 512 512">
                    <title>DARK</title>
                    <line x1="256" y1="48" x2="256" y2="96"
                        style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" />
                    <line x1="256" y1="416" x2="256" y2="464"
                        style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" />
                    <line x1="403.08" y1="108.92" x2="369.14" y2="142.86"
                        style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" />
                    <line x1="142.86" y1="369.14" x2="108.92" y2="403.08"
                        style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" />
                    <line x1="464" y1="256" x2="416" y2="256"
                        style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" />
                    <line x1="96" y1="256" x2="48" y2="256"
                        style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" />
                    <line x1="403.08" y1="403.08" x2="369.14" y2="369.14"
                        style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" />
                    <line x1="142.86" y1="142.86" x2="108.92" y2="108.92"
                        style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" />
                    <circle cx="256" cy="256" r="80"
                        style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" />
                </svg> </a>
            <div class="trigger">
                <div class="trigger-container"><a class="menu-link" href="/">home</a><a class="menu-link"
                        href="/about/">about</a><a class="menu-link" href="https://github.com/shariffff" target="_blank"
                        rel="noopener">github</a></div>
            </div>
        </nav>
    </div>
    <div class="wrapper post">
        <main class="page-content" aria-label="Content">
            <article itemscope itemtype="https://schema.org/BlogPosting">
                <header class="header">
                    <div class="tags">
                        <!-- <span itemprop="keywords"> <a class="tag" href="/tags/#cli">CLI</a> </span> -->
                    </div>
                    <h1 class="header-title" itemprop="headline">Replace WordPress core with WP CLI</h1>
                    <div class="post-meta"> <time datetime="Wed Mar 09 2022 06:00:00 GMT+0600 (Bangladesh Standard Time)" itemprop="datePublished"> Jan 25,
                            2020 </time> <span itemprop="author" itemscope itemtype="https://schema.org/Person"> <span
                                itemprop="name">Sharif Mohammad Eunus</span> </span> <time hidden
                            datetime="2020-02-02T16:49:47+07:00" itemprop="dateModified"> Jan 25, 2020 </time> <span
                            hidden itemprop="publisher" itemtype="Person">Sharif Mohammad Eunus</span> </div>
                </header>
                <div class="page-content" itemprop="articleBody">
                    <p>One of the main reasons we often have to replace the WordPress core files is if the site becomes compromised and the malware modifies the core files, causing the dashboard to become inaccessible. In these cases, replacing the core can restore access and help secure the site.</p>
<p>⚠️ <strong>Make sure to take a backup before the cleanup.</strong></p>
<h3>Re-install</h3>
<p>The first step will be to check if the core files are intact.</p>
<pre><code class="language-bash">wp core verify-checksums
</code></pre>
<p>If core files are intact, the command will return a response <code>Success: WordPress installation verifies against checksums.</code></p>
<p>Otherwise, we should re-install the core files.</p>
<pre><code class="language-bash">wp core download --force --skip-content
</code></pre>
<p>If the installed WordPress version is 6.0 but the latest version is 6.1, the above command will replace the core files with the latest WordPress version. Also, the <code>--skip-content</code> is used to avoid downloading default WP themes and plugins.</p>
<p>Though it’s recommended to use the latest WordPress version, sometimes you may not want to update the WordPress version to the latest for X reason. That’s when we need to specify the <code>--version</code> flag.</p>
<pre><code class="language-bash"># get the currently installed version of WordPress
wp core version
# the output will be a number e.g. 6.0
# to re-install the same version
wp core download --force --skip-content --version=6.0
</code></pre>
<p><em>to do it in one line</em></p>
<pre><code class="language-bash">wp core download --force --skip-content --version=$(wp core version)
</code></pre>
<p>💡 WP CLI can’t always clean up the leftover files. In such cases, check the core version first, delete the <code>wp-admin</code> and <code>wp-includes</code> folders and reinstall the core.</p>

                </div>
            </article>
        </main>
        <!-- <nav class="post-nav"> <a class="post-nav-item post-nav-prev" href="/">
                <div class="nav-arrow">Previous</div> <span class="post-title"></span>
            </a> </nav> -->
        <footer class="footer"> <a class="footer_item" href="/feed.xml">rss</a> <span class="footer_item">&copy;
                2024</span> </footer>
        <script>
            (() => {
                // Theme switch
                const body = document.body;
                const lamp = document.getElementById("mode");

                const toggleTheme = (state) => {
                    if (state === "dark") {
                        localStorage.setItem("theme", "light");
                        body.removeAttribute("data-theme");
                    } else if (state === "light") {
                        localStorage.setItem("theme", "dark");
                        body.setAttribute("data-theme", "dark");
                    } else {
                        initTheme(state);
                    }
                };

                lamp.addEventListener("click", () =>
                    toggleTheme(localStorage.getItem("theme"))
                );

                // Blur the content when the menu is open
                const cbox = document.getElementById("menu-trigger");

                cbox.addEventListener("change", function () {
                    const area = document.querySelector(".wrapper");
                    this.checked
                        ? area.classList.add("blurry")
                        : area.classList.remove("blurry");
                });
            })();

        </script>
    </div>
</body>

</html>